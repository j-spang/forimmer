"use strict";var t,n=require("immer"),r=(t=n)&&"object"==typeof t&&"default"in t?t.default:t,e=require("react");function u(t,n){var r;try{r=n(t)}catch(t){}if(!(void 0===r||r.findIndex((function(t){return void 0===t}))>-1))return r}n.setAutoFreeze(!0),exports.createStore=function(t){var n=[];return{getCurrentState:function(){return t},subscribe:function(t){return n.push(t),function(){var r=n.indexOf(t);r>-1&&n.splice(r,1)}},createStoreAction:function(e){return function(u){return e(u).then((function(e){return function(e){var u=r(t||{},(function(t){return e(t)}));u!==t&&Object.keys(u).length>0&&(t=u,[].concat(n).forEach((function(n){return n(t)})))}(e)}))}}}},exports.useStoreState=function(t,n){var r=e.useRef(),c=e.useState(0)[1];return void 0===r.current&&(r.current=u(t.getCurrentState(),n)),void 0===r.current&&function(t,n){throw new Promise((function(r){var e=t.subscribe((function(t){void 0!==u(t,n)&&(e(),r())}))}))}(t,n),e.useEffect((function(){var e=t.subscribe((function(t){var e=u(t,n);(void 0===e||void 0===r.current||e.length!==r.current.length||e.findIndex((function(t){return!r.current.includes(t)}))>-1)&&(r.current=e,c(Date.now()))}));return function(){e()}}),[]),r.current};
//# sourceMappingURL=simmer.js.cjs.production.min.js.map
